{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.js","Services/Api.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","components/App.js","index.js","components/Searchbar/Searchbar.module.css","components/Modal/Modal.module.css"],"names":["module","exports","Loader","type","color","height","width","searchByQuery","query","page","axios","get","Searchbar","state","value","handleChange","e","setState","target","handleSubmit","preventDefault","props","onSubmit","this","className","styles","SearchForm","SearchForm_button","SearchForm_button_label","SearchForm_input","onChange","autoComplete","placeholder","Component","ImageGalleryItem","item","openModal","ImageGalleryItem_image","id","src","webformatURL","alt","onClick","role","ImageGallery","items","style","map","el","key","Button","loadMore","Modal","imgRef","createRef","handleKeyPress","code","closeModal","handleImgClick","current","window","addEventListener","removeEventListener","imageToOpen","Overlay","App","images","category","isLoading","isModalOpen","scrollFunc","scrollTo","top","document","documentElement","scrollHeight","behavior","prevState","handleChangeCategory","pageNumber","fetchImg","api","then","response","data","hits","catch","err","Error","finally","imageUrl","find","Number","largeImageURL","prevProps","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.a444106f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__GhMe9\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__3jQLa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__26GPA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2ZkfK\"};","import React from 'react';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport LoaderStyles from 'react-loader-spinner';\n\nconst Loader = () => (\n  <LoaderStyles type=\"ThreeDots\" color=\"#3f51b5\" height={100} width={100} />\n);\n\nexport default Loader;\n","import axios from \"axios\";\n\nexport const searchByQuery = (query = \"\", page = 1) => {\n  return axios.get(\n    `https://pixabay.com/api/?key=14922494-aee89178795b078ccc72cd443&orientation=horizontal&q=${query}&per_page=12&page=${page}`\n  );\n};\n","import React, { Component } from 'react';\nimport T from 'prop-types';\nimport styles from './Searchbar.module.css';\n\nexport default class Searchbar extends Component {\n  state = {\n    value: '',\n  };\n\n  static propTypes = {\n    onSubmit: T.func.isRequired,\n  };\n\n  handleChange = e => {\n    this.setState({\n      value: e.target.value,\n    });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    this.props.onSubmit(this.state.value);\n\n    this.setState({\n      value: '',\n    });\n  };\n\n  render() {\n    const { value } = this.state;\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={styles.SearchForm_button}>\n            <span className={styles.SearchForm_button_label}> Search </span>{' '}\n          </button>\n\n          <input\n            className={styles.SearchForm_input}\n            onChange={this.handleChange}\n            value={value}\n            type=\"text\"\n            autoComplete=\"off\"\n            placeholder=\"Search images and photos\"\n          />\n        </form>{' '}\n      </header>\n    );\n  }\n}\n","import React from 'react';\nimport T from 'prop-types';\nimport styles from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ item, openModal }) => {\n  return (\n    <img\n      className={styles.ImageGalleryItem_image}\n      id={item.id}\n      src={item.webformatURL}\n      alt=\"\"\n      onClick={openModal}\n      role=\"presentation\"\n    />\n  );\n};\n\nImageGalleryItem.propTypes = {\n  item: T.shape({\n    webformatURL: T.string.isRequired,\n    tags: T.string.isRequired,\n    id: T.number.isRequired,\n  }).isRequired,\n  openModal: T.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport T from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport style from './ImageGallery.module.css';\n\nconst ImageGallery = ({ items, openModal }) => {\n  return (\n    <ul className={style.ImageGallery}>\n      {' '}\n      {items.map(el => (\n        <li key={el.id}>\n          <ImageGalleryItem item={el} openModal={openModal} />{' '}\n        </li>\n      ))}{' '}\n    </ul>\n  );\n};\nImageGallery.propTypes = {\n  items: T.arrayOf(T.shape({})).isRequired,\n  openModal: T.func.isRequired,\n};\nexport default ImageGallery;\n","import React from 'react';\nimport T from 'prop-types';\nimport styles from './Button.module.css';\n\nconst Button = ({ loadMore }) => {\n  return (\n    <button type=\"button\" onClick={loadMore} className={styles.Button}>\n      Load more{' '}\n    </button>\n  );\n};\nButton.propTypes = {\n  loadMore: T.func.isRequired,\n};\nexport default Button;\n","import React, { Component, createRef } from 'react';\nimport T from 'prop-types';\nimport style from './Modal.module.css';\n\nexport default class Modal extends Component {\n  imgRef = createRef();\n\n  static propTypes = {\n    imageToOpen: T.string.isRequired,\n    closeModal: T.func.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyPress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyPress);\n  }\n\n  handleKeyPress = e => {\n    if (e.code !== 'Escape') return;\n\n    this.props.closeModal();\n  };\n\n  handleImgClick = e => {\n    const { current } = this.imgRef;\n\n    if (current && e.target !== current) return;\n\n    this.props.closeModal();\n  };\n\n  render() {\n    const { imageToOpen } = this.props;\n    return (\n      <div\n        className={style.Overlay}\n        onClick={this.handleImgClick}\n        role=\"presentation\"\n      >\n        <div className={style.Modal}>\n          <img src={imageToOpen} alt=\"\" role=\"presentation\" />\n        </div>{' '}\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport Loader from './Loader/Loader';\nimport * as api from '../Services/Api';\nimport Searchbar from './Searchbar/Searchbar';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport Button from './Button/Button';\nimport Modal from './Modal/Modal';\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    category: '',\n    isLoading: false,\n    isModalOpen: false,\n    imageToOpen: null,\n    page: 1,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { category, page } = this.state;\n    if (page !== prevState.page) {\n      api.searchByQuery(category, page).then(response =>\n        this.setState(state => ({\n          images: [...state.images, ...response.data.hits],\n        })),\n      );\n    }\n  }\n\n  scrollFunc = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  loadMore = () => {\n    this.setState(\n      prevState => ({\n        page: prevState.page + 1,\n      }),\n      this.scrollFunc(),\n    );\n  };\n\n  handleChangeCategory = value => {\n    this.setState(\n      {\n        category: value,\n        images: [],\n        pageNumber: 1,\n        isLoading: true,\n      },\n      this.fetchImg(value),\n    );\n  };\n\n  fetchImg = value => {\n    api\n      .searchByQuery(value)\n      .then(response =>\n        this.setState({\n          images: response.data.hits,\n        }),\n      )\n      .catch(err => {\n        throw new Error(err);\n      })\n      .finally(() => {\n        this.setState({\n          isLoading: false,\n        });\n      });\n  };\n\n  openModal = ({ target }) => {\n    const { images } = this.state;\n    const imageUrl = images.find(item => {\n      return item.id === Number(target.id);\n    }).largeImageURL;\n    this.setState({\n      isModalOpen: true,\n      imageToOpen: imageUrl,\n    });\n  };\n\n  closeModal = e => {\n    this.setState({\n      isModalOpen: false,\n    });\n  };\n\n  render() {\n    const { isModalOpen, imageToOpen, images, isLoading } = this.state;\n    return (\n      <section>\n        {' '}\n        {isLoading && <Loader />}{' '}\n        <Searchbar onSubmit={this.handleChangeCategory} />{' '}\n        <ImageGallery items={images} openModal={this.openModal} />{' '}\n        {images.length > 0 && <Button loadMore={this.loadMore} />}{' '}\n        {isModalOpen && (\n          <Modal imageToOpen={imageToOpen} closeModal={this.closeModal} />\n        )}{' '}\n      </section>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./main.module.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3-Glo\",\"SearchForm\":\"Searchbar_SearchForm__1C8nb\",\"SearchForm_button\":\"Searchbar_SearchForm_button__s940y\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__1RANY\",\"SearchForm_input\":\"Searchbar_SearchForm_input__2fVp8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1a_L4\",\"Modal\":\"Modal_Modal__1a66a\",\"scrollOff\":\"Modal_scrollOff__31nD0\"};"],"sourceRoot":""}