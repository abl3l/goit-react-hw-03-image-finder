{"version":3,"sources":["components/Loader/Loader.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/App.module.css","components/Loader/Loader.jsx","services/Api.js","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/App.jsx","index.js","components/Searchbar/Searchbar.module.css","components/Modal/Modal.module.css"],"names":["module","exports","Loader","className","styles","loader","type","color","height","width","searchByQuery","query","page","axios","get","Searchbar","state","value","handleChange","e","setState","target","handleSubmit","preventDefault","props","onSubmit","this","SearchForm","SearchForm_button","SearchForm_button_label","SearchForm_input","onChange","autoComplete","placeholder","Component","ImageGalleryItem","item","openModal","ImageGalleryItem_image","id","src","webformatURL","alt","onClick","role","ImageGallery","items","style","map","el","key","Button","loadMore","Modal","imgRef","createRef","handleKeyPress","code","closeModal","handleImgClick","current","window","addEventListener","removeEventListener","imageToOpen","Overlay","App","images","category","isLoading","isModalOpen","scrollFunc","scrollTo","top","document","documentElement","scrollHeight","behavior","prevState","api","then","response","data","hits","handleChangeCategory","fetchImg","catch","err","Error","finally","imageUrl","find","Number","largeImageURL","prevProps","wrap","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.9d4caae7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__kAy42\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__GhMe9\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__3jQLa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__26GPA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2ZkfK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"App_wrap__3D5cC\"};","import React from 'react';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport LoaderStyles from 'react-loader-spinner';\nimport styles from './Loader.module.css';\n\nconst Loader = () => (\n  <div className={styles.loader}>\n    <LoaderStyles type=\"ThreeDots\" color=\"#3f51b5\" height={100} width={100} />\n  </div>\n);\n\nexport default Loader;\n","import axios from 'axios';\n\nexport const searchByQuery = (query = '', page = 1) => {\n  return axios.get(\n    `https://pixabay.com/api/?key=14922494-aee89178795b078ccc72cd443&orientation=horizontal&q=${query}&per_page=12&page=${page}`,\n  );\n};\n\nexport const a = 2;\n","import React, { Component } from 'react';\nimport T from 'prop-types';\nimport styles from './Searchbar.module.css';\n\nexport default class Searchbar extends Component {\n  state = {\n    value: '',\n  };\n\n  static propTypes = {\n    onSubmit: T.func.isRequired,\n  };\n\n  handleChange = e => {\n    this.setState({\n      value: e.target.value,\n    });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    this.props.onSubmit(this.state.value);\n\n    this.setState({\n      value: '',\n    });\n  };\n\n  render() {\n    const { value } = this.state;\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={styles.SearchForm_button}>\n            <span className={styles.SearchForm_button_label}> Search </span>{' '}\n          </button>\n\n          <input\n            className={styles.SearchForm_input}\n            onChange={this.handleChange}\n            value={value}\n            type=\"text\"\n            autoComplete=\"off\"\n            placeholder=\"Search images and photos\"\n          />\n        </form>{' '}\n      </header>\n    );\n  }\n}\n","import React from 'react';\nimport T from 'prop-types';\nimport styles from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ item, openModal }) => {\n  return (\n    <img\n      className={styles.ImageGalleryItem_image}\n      id={item.id}\n      src={item.webformatURL}\n      alt=\"\"\n      onClick={openModal}\n      role=\"presentation\"\n    />\n  );\n};\n\nImageGalleryItem.propTypes = {\n  item: T.shape({\n    webformatURL: T.string.isRequired,\n    id: T.number.isRequired,\n  }).isRequired,\n  openModal: T.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport T from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem.jsx';\nimport style from './ImageGallery.module.css';\n\nconst ImageGallery = ({ items, openModal }) => {\n  return (\n    <ul className={style.ImageGallery}>\n      {' '}\n      {items.map(el => (\n        <li key={el.id}>\n          <ImageGalleryItem item={el} openModal={openModal} />{' '}\n        </li>\n      ))}{' '}\n    </ul>\n  );\n};\nImageGallery.propTypes = {\n  items: T.arrayOf(T.shape({})).isRequired,\n  openModal: T.func.isRequired,\n};\nexport default ImageGallery;\n","import React from 'react';\nimport T from 'prop-types';\nimport styles from './Button.module.css';\n\nconst Button = ({ loadMore }) => (\n  <button type=\"button\" onClick={loadMore} className={styles.Button}>\n    Load more{' '}\n  </button>\n);\n\nButton.propTypes = {\n  loadMore: T.func.isRequired,\n};\nexport default Button;\n","import React, { Component, createRef } from 'react';\nimport T from 'prop-types';\nimport style from './Modal.module.css';\n\nexport default class Modal extends Component {\n  imgRef = createRef();\n\n  static propTypes = {\n    imageToOpen: T.string.isRequired,\n    closeModal: T.func.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyPress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyPress);\n  }\n\n  handleKeyPress = e => {\n    if (e.code !== 'Escape') return;\n\n    this.props.closeModal();\n  };\n\n  handleImgClick = e => {\n    const { current } = this.imgRef;\n\n    if (current && e.target !== current) return;\n\n    this.props.closeModal();\n  };\n\n  render() {\n    const { imageToOpen } = this.props;\n    return (\n      <div\n        className={style.Overlay}\n        onClick={this.handleImgClick}\n        role=\"presentation\"\n      >\n        <div className={style.Modal}>\n          <img src={imageToOpen} alt=\"\" role=\"presentation\" />\n        </div>{' '}\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport Loader from './Loader/Loader.jsx';\nimport * as api from '../services/Api';\nimport Searchbar from './Searchbar/Searchbar.jsx';\nimport ImageGallery from './ImageGallery/ImageGallery.jsx';\nimport Button from './Button/Button.jsx';\nimport Modal from './Modal/Modal.jsx';\nimport styles from './App.module.css';\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    category: '',\n    isLoading: false,\n    isModalOpen: false,\n    imageToOpen: null,\n    page: 1,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { images } = this.state;\n    if (images !== prevState.images) {\n      this.scrollFunc();\n    }\n  }\n\n  scrollFunc = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  loadMore = () => {\n    const { category, page } = this.state;\n\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n    }));\n    api.searchByQuery(category, page).then(response =>\n      this.setState(state => ({\n        images: [...state.images, ...response.data.hits],\n      })),\n    );\n  };\n\n  handleChangeCategory = value => {\n    this.setState(\n      {\n        category: value,\n        images: [],\n        isLoading: true,\n      },\n      this.fetchImg(value),\n    );\n  };\n\n  fetchImg = value => {\n    api\n      .searchByQuery(value)\n      .then(response =>\n        this.setState({\n          images: response.data.hits,\n        }),\n      )\n      .catch(err => {\n        throw new Error(err);\n      })\n      .finally(() => {\n        this.setState({\n          isLoading: false,\n        });\n      });\n  };\n\n  openModal = ({ target }) => {\n    const { images } = this.state;\n    const imageUrl = images.find(item => {\n      return item.id === Number(target.id);\n    }).largeImageURL;\n    this.setState({\n      isModalOpen: true,\n      imageToOpen: imageUrl,\n    });\n  };\n\n  closeModal = () => {\n    this.setState({\n      isModalOpen: false,\n    });\n  };\n\n  render() {\n    const { isModalOpen, imageToOpen, images, isLoading } = this.state;\n    return (\n      <section className={styles.wrap}>\n        {' '}\n        {isLoading && <Loader />}{' '}\n        <Searchbar onSubmit={this.handleChangeCategory} />{' '}\n        <ImageGallery items={images} openModal={this.openModal} />{' '}\n        {images.length > 0 && <Button loadMore={this.loadMore} />}{' '}\n        {isModalOpen && (\n          <Modal imageToOpen={imageToOpen} closeModal={this.closeModal} />\n        )}{' '}\n      </section>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './main.module.css';\nimport App from './components/App.jsx';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3-Glo\",\"SearchForm\":\"Searchbar_SearchForm__1C8nb\",\"SearchForm_button\":\"Searchbar_SearchForm_button__s940y\",\"SearchForm_button_label\":\"Searchbar_SearchForm_button_label__1RANY\",\"SearchForm_input\":\"Searchbar_SearchForm_input__2fVp8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1a_L4\",\"Modal\":\"Modal_Modal__1a66a\",\"scrollOff\":\"Modal_scrollOff__31nD0\"};"],"sourceRoot":""}